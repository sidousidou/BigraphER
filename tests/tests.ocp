comp += [ "-warn-error" "A" ]

begin test "matching"
  test_benchmark = false
  test_byte = false
  files = [
    "../utils/utils.ml"
    "test_match.ml"
  ]
  requires = [
    "bigraph"
  ]
  test_stdout = [ "%{sources}%/files/%{variant}%.reference" ]
  test_args = [ "%{variant}%" "%{sources}%/files/match/" ] 
  test_variants = [
    "match"
    "equality"
  ]	    
end


begin test "dec"
  test_benchmark = false
  test_byte = false
  files = [
    "../utils/utils.ml"
    "test_decomp.ml"
  ]
  requires = [
    "bigraph"
  ]
  test_stdout = [ "%{sources}%/files/dec.reference" ]
  test_args = [ "%{sources}%/files/match/" ] 	    
end

begin test "brs"
  test_benchmark = true
  test_byte = false
  files = [
    "../utils/utils.ml"
    "test_brs.ml"
  ]
  requires = [
    "bigraph"
  ]
  test_stdout = [ "%{sources}%/files/brs.reference" ]
  test_args = [ "%{test}%" ]
  tests = [
    "brs"
    "sym_brs"
    "sbrs"
    "sym_sbrs"
  ]
end